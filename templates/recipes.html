{% extends "base.html" %}
{% block hero %}
    <div class="container row" id="hero-container">
        <div class="col s12 m12 l12 xl12" id="hero-section">
            <div class="row">
                <div class="col s10 offset-s1 m6 offset-m3 l4 offset-l4">
                    <div class="card-panel" id="hero-card">
                        <h3 id="hero-header">Brew Exchange</h2>
                        <p id="hero-text">Browse & Share Coffee Brewing Recipes!</p>
                        <div class="row button-wrapper">
                            <div class="col s6 offset-s3">
                                <a class="waves-effect waves-light btn red-btn">Search Recipes</a>
                            </div>
                        </div>
                        <div class="row button-wrapper">
                            <div class="col s6 offset-s3">
                                <a class="waves-effect waves-light btn red-btn">Log In</a>
                            </div>
                        </div>
                        <div class="row button-wrapper">
                            <div class="col s6 offset-s3">
                                <a class="waves-effect waves-light btn red-btn">Register</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
{% block content %}

    <h2 class="center-align">Search Recipes</h2>

    <div class="row card-panel search-wrapper">
        <form action="{{ url_for('search') }}" method="POST" class="col s12">
            <div class="row valign-wrapper center-align">
                <div class="input-field col s12">
                    <i class="fas fa-search prefix"></i>
                    <input type="text" name="query" id="query" minlength="3" class="validate" required>
                    <label for="query">Search Recipes</label>
                </div>
            </div>
            <div class="row">
                <button type="submit" class="green-btn btn text-shadow col s3 offset-s2">
                    <i class="fas fa-search"></i> Search
                </button>
                <a href="{{ url_for('get_recipes') }}" class="red-btn btn text-shadow col s3 offset-s2">
                    <i class="far fa-times-circle"></i> Clear/Reset
                </a>
            </div>
        </form>
    </div>

    <div class="row collapsable-wrapper">
        <ul class="collapsible">
            {% for recipe in recipes %}
            <li>
                <div class="collapsible-header text-shadow">
                    <div class="col s2 m1 offset-m1">
                        <i class="fas fa-angle-down"></i>
                    </div>
                    <div class="col s10">
                        <strong>{{ recipe.recipe_method }}</strong><br>
                        <em>{{ recipe.time }}</em>
                    </div>
                </div>
                <div class="collapsible-body">
                    <strong>Roast Level:</strong> <span>{{ recipe.roast_level }}</span><br>
                    <strong>Grind Size:</strong> <span>{{ recipe.grind_size }}</span><br>
                    <strong>Coffee Weight:</strong> <span>{{ recipe.coffee_weight }}g</span><br>
                    <strong>Water Weight:</strong> <span>{{ recipe.water_weight }}g</span><br>
                    <strong>Total Brew Time: </strong> <span>{{ recipe.time }}</span><br>
                    <p>{{ recipe.description }}</p>
                </div>
            </li>
            {% endfor %}
        </ul>
    </div>
{% endblock %}